@model DayForecastViewModel
@{
    ViewBag.Title = Model.Day.Name;
}
<h2>@Model.Day.Name</h2>

@using (Html.BeginForm())
{
    <div class="from-group">
        <table class="table">
            <thead class="hidden-xs">
                <tr>
                    <th>
                        Date
                    </th>
                    <th>
                    </th>
                    <th>
                    </th>
                    <th>
                    </th>
                    <th>
                    </th>
                </tr>
            </thead>
            @{
    int i = 0;
    foreach (var group in Model.Forecasts.GroupBy(x => x.Fixture.Date).OrderBy(x => x.Key))
    {
        <tr class="date-row visible-xs"><td colspan="4">@group.Key.ToLongDateString() à @group.Key.ToShortTimeString()</td></tr>
        foreach (var forecast in group)
            {
                if (forecast.Fixture.CanBeForecast)
                {
                    @Html.EditorFor(x => forecast, null, "Forecasts[" + i + "].");
                    i++;
                }
                else
                {
                    @Html.DisplayFor(x => forecast);
                }
            }
        }
        }
    </table>
    </div>
    <div class="form-group">
        <input type="submit" value="Sauvegarder" class="btn btn-default">
    </div>
    <div>@Html.ActionLink("Annuler", "Details", new { id = Model.Day.DayId })</div>
}